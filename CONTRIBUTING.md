# 贡献指南

感谢您对 Progress Recorder 项目的关注！我们欢迎各种形式的贡献，包括但不限于代码、文档、问题反馈、功能建议等。

## 🤝 如何贡献

### 🐛 报告 Bug

如果您发现了问题，请通过 GitHub Issues 报告：

1. **搜索现有 Issues** - 确保问题还没有被报告
2. **使用模板** - 填写 Bug 报告模板
3. **提供详细信息**：
   - Progress Recorder 版本
   - Claude Code 版本
   - 操作系统和版本
   - 重现步骤
   - 期望行为和实际行为
   - 错误截图或日志

### 💡 提出功能建议

我们很乐意听到您的想法：

1. **检查现有功能请求** - 避免重复建议
2. **详细描述功能**：
   - 功能的用途和价值
   - 详细的使用场景
   - 可能的实现方案
   - 与现有功能的关系

### 📖 改进文档

文档改进同样重要：

- 修复错别字和语法错误
- 改进表达清晰度
- 添加使用示例
- 翻译成其他语言
- 补充遗漏的信息

### 🛠️ 代码贡献

我们欢迎各种代码贡献：

#### 准备工作

1. **Fork 项目**
```bash
# 克隆您的 fork
git clone https://github.com/your-username/ClaudeCode-progress-recorder.git
cd ClaudeCode-progress-recorder
```

2. **创建分支**
```bash
git checkout -b feature/your-feature-name
# 或
git checkout -b bugfix/your-bugfix-name
```

#### 开发规范

##### Agent 开发规范

当修改或创建新的 agent 时：

1. **YAML Frontmatter 格式**：
```yaml
---
name: agent-name
description: 简洁的功能描述，包含使用示例
model: sonnet
color: blue/green/orange
---
```

2. **内容结构**：
- 🎯 核心职责
- 📊 功能模块
- 🧠 处理规则
- 📝 工作流程
- 📊 响应格式

3. **语义识别规则**：
- 基于语义理解而非关键词匹配
- 明确触发条件和分类规则
- 包含置信度判定机制

##### 指令开发规范

Commands 文件应该：

1. **简洁明了**：
```yaml
---
description: 简短的功能描述
allowed-tools: Task
---

功能说明和调用方式
```

2. **直接调用 Agent**：
- 不重复实现逻辑
- 通过 Task 工具调用对应 agent
- 传递必要的上下文信息

##### 文档规范

1. **中文优先** - 主要文档使用中文
2. **结构化** - 使用清晰的标题层级
3. **示例丰富** - 包含实际使用示例
4. **保持更新** - 代码变更时同步更新文档

#### 测试规范

1. **功能测试**：
- 测试所有 agent 的核心功能
- 验证语义识别的准确性
- 确保分级保护机制正常工作

2. **集成测试**：
- 测试指令调用流程
- 验证文件读写操作
- 确保归档机制正确

3. **边界测试**：
- 测试极限情况（空文件、大文件）
- 验证错误处理
- 测试并发操作安全性

#### 提交规范

1. **Commit 信息格式**：
```
类型: 简短描述

详细描述（可选）
- 具体变更1
- 具体变更2
```

类型包括：
- `feat`: 新功能
- `fix`: Bug 修复
- `docs`: 文档更新
- `style`: 格式调整
- `refactor`: 代码重构
- `test`: 测试相关
- `chore`: 构建过程或辅助工具的变动

2. **提交要求**：
- 一次提交解决一个问题
- 提交信息清晰描述变更内容
- 避免提交无关文件

## 🔄 Pull Request 流程

### 提交 PR 前检查

- [ ] 代码遵循项目规范
- [ ] 添加或更新了相关文档
- [ ] 测试通过
- [ ] 提交信息清晰

### PR 描述模板

```markdown
## 变更类型
- [ ] Bug 修复
- [ ] 新功能
- [ ] 文档更新
- [ ] 性能优化
- [ ] 其他

## 变更描述
简要描述此 PR 的变更内容

## 相关 Issues
- 关闭 #issue-number
- 关联 #issue-number

## 测试
描述如何测试这些变更

## 检查列表
- [ ] 代码遵循项目规范
- [ ] 自测通过
- [ ] 文档已更新
- [ ] 提交信息清晰
```

### 审查流程

1. **自动检查** - 通过 CI/CD 验证
2. **代码审查** - 维护者进行 code review
3. **测试验证** - 功能和集成测试
4. **合并** - 通过审查后合并到主分支

## 📋 开发环境

### 必要工具

- **Claude Code** - 开发和测试环境
- **Git** - 版本控制
- **文本编辑器** - 支持 Markdown 和 YAML

### 项目结构理解

```
Progress Recorder/
├── .claude/
│   ├── agents/           # 核心处理逻辑
│   │   ├── record.md     # 语义识别和信息记录
│   │   ├── recap.md      # 状态分析和报告生成
│   │   └── archive.md    # 历史管理和容量控制
│   └── commands/         # 用户交互接口
│       ├── record.md     # /record 指令
│       ├── recap.md      # /recap 指令
│       └── archive.md    # /archive 指令
├── CLAUDE.md             # 项目规则和配置
├── progress.md           # 示例记忆文件
└── docs/                 # 文档目录
```

### 开发工作流

1. **理解需求** - 阅读相关 Issue 和文档
2. **设计方案** - 考虑对现有功能的影响
3. **编写代码** - 遵循项目规范
4. **本地测试** - 确保功能正常
5. **提交 PR** - 详细说明变更内容
6. **响应反馈** - 根据 review 意见调整

## 🌟 贡献者认可

### 贡献类型

我们认可所有形式的贡献：

- 💻 **代码贡献** - 功能开发、Bug 修复
- 📖 **文档贡献** - 文档改进、翻译
- 🐛 **问题报告** - 发现和报告 Bug
- 💡 **功能建议** - 提出改进想法
- 🎯 **测试** - 功能测试、用户反馈
- 🌍 **推广** - 帮助推广项目

### 认可方式

- 在 README 中列出贡献者
- 在发布说明中感谢贡献者
- 优秀贡献者可获得维护者权限

## 📞 联系方式

### 获取帮助

- **GitHub Issues** - 技术问题和 Bug 报告
- **GitHub Discussions** - 功能讨论和经验分享
- **项目 Wiki** - 详细文档和教程

### 社区行为准则

请遵循以下原则：

1. **友好尊重** - 对所有参与者保持友好
2. **建设性反馈** - 提供有用的建议和意见
3. **开放包容** - 欢迎不同背景的贡献者
4. **专业态度** - 保持技术讨论的专业性
5. **耐心帮助** - 帮助新手融入社区

## 🚀 发布流程

### 版本号规则

采用语义化版本控制（Semantic Versioning）：

- **主版本号** - 不兼容的 API 修改
- **次版本号** - 向下兼容的功能性新增
- **修订号** - 向下兼容的问题修正

### 发布检查

- [ ] 所有测试通过
- [ ] 文档更新完整
- [ ] 变更日志更新
- [ ] 版本号正确
- [ ] 标签和发布说明

---

再次感谢您对 Progress Recorder 项目的关注和贡献！每一个贡献都让项目变得更好。

<div align="center">

**一起为 Claude Code 社区构建更好的工具！** 🎉

</div>