# Progress Recorder 项目记忆管理系统

## 核心指令集

### /record
触发记录当前对话内容中的关键信息。系统会识别并记录：
- **决策** - 表达确定性的选择，如"决定使用"、"选择"、"采用"
- **约束** - 明确的限制条件，如"必须"、"不能"、"需要"
- **任务** - 待办事项，如"需要实现"、"要开发"、"计划"
- **进度** - 完成状态，如"已完成"、"搞定了"、"做好了"

### /archive
将 progress.md 中的历史记录归档到 progress.archive.md，保持主文件清爽。当 Notes + Done 超过 100 条时会自动触发。

### /recap
快速回顾当前项目状态，显示：
- 关键约束（Pinned）
- 历史决策（Decisions）
- 待办任务（TODO）
- 最近完成的事项（Done）

## 自动触发规则

当对话中出现以下语言模式时，系统会自动调用对应的 agent：

### 自动调用 record agent
当出现以下语言模式时：

**决策类语言**：
- "决定使用/采用/选择..."
- "确定用/上..."、"最终选择..."、"就用...吧"

**约束类语言**：
- "必须支持/兼容..."、"不能使用..."
- "要求..."、"限制是..."

**任务类语言**：
- "需要实现/开发/添加..."
- "要做..."、"计划..."、"下一步..."

**完成类语言**：
- "完成了..."、"做好了..."
- "搞定了..."、"已经..."

## 系统规则

1. **分级保护** - Pinned 和 Decisions 一旦记录就不会被自动修改
2. **语义识别** - 基于语义理解而非关键词匹配进行信息分类
3. **置信度判定** - 只有高置信度的信息才写入关键区块
4. **增量合并** - 新信息与现有记录智能合并，避免重复
5. **历史归档** - 自动管理文档容量，保持主文件可读性

## 使用建议

- 在项目开始时使用 `/record` 记录初始需求和约束
- 每次做出重要决策时，明确表达"决定..."触发自动记录
- 定期使用 `/recap` 回顾项目状态
- 长期项目建议手动 `/archive` 整理历史记录

这个系统会让 Claude Code 具备项目记忆能力，特别适合需要持续开发的项目。